## ä¸€ã€æ•°æ®ç±»å‹

### 1.æ•°å€¼ç±»å‹

â‘ æ ‡é‡(Scalar)ã€‚å•ä¸ªçš„å®æ•°ï¼Œå¦‚ 1.2, 3.4 ç­‰ï¼Œç»´åº¦(Dimension)æ•°ä¸º 0ï¼Œshape ä¸º[]ã€‚
â‘ å‘é‡(Vector)ã€‚ğ‘›ä¸ªå®æ•°çš„æœ‰åºé›†åˆï¼Œå¦‚[1.2]ï¼Œ[1.2,3.4]ç­‰ï¼Œç»´åº¦æ•°ä¸º 1ï¼Œé•¿åº¦ä¸å®šï¼Œshape ä¸º[ğ‘›]ã€‚
â‘ çŸ©é˜µ(Matrix)ã€‚ğ‘›è¡Œğ‘šåˆ—å®æ•°çš„æœ‰åºé›†åˆï¼Œå¦‚[[1,2],[3,4]]ï¼Œç»´åº¦æ•°ä¸º 2ï¼Œæ¯ä¸ªç»´åº¦çš„é•¿åº¦ä¸å®šï¼Œshape ä¸º[ğ‘›, ğ‘š]ã€‚
â‘ å¼ é‡(Tensor)ã€‚æ‰€æœ‰ç»´åº¦æ•°dim > 2çš„æ•°ç»„ç»Ÿç§°ä¸ºå¼ é‡ã€‚å¼ é‡çš„æ¯ä¸ªç»´åº¦ä¹Ÿä½œè½´(Axis)ï¼Œä¸€èˆ¬ç»´åº¦ä»£è¡¨äº†å…·ä½“çš„ç‰©ç†å«ä¹‰ï¼Œæ¯”å¦‚ Shape ä¸º[2,32,32,3]çš„å¼ é‡å…±æœ‰ 4 ç»´ï¼Œå¦‚æœè¡¨ç¤ºå›¾ç‰‡æ•°æ®çš„è¯ï¼Œæ¯ä¸ªç»´åº¦/è½´ä»£è¡¨çš„å«ä¹‰åˆ†åˆ«æ˜¯å›¾ç‰‡æ•°é‡ã€å›¾ç‰‡é«˜åº¦ã€å›¾ç‰‡å®½åº¦ã€å›¾ç‰‡é€šé“æ•°ï¼Œå…¶ä¸­ 2 ä»£è¡¨äº† 2 å¼ å›¾ç‰‡ï¼Œ32 ä»£è¡¨äº†é«˜ã€å®½å‡ä¸º 32ï¼Œ3 ä»£è¡¨äº† RGB å…± 3 ä¸ªé€šé“ã€‚å¼ é‡çš„ç»´åº¦æ•°ä»¥åŠæ¯ä¸ªç»´åº¦æ‰€ä»£è¡¨çš„å…·ä½“ç‰©ç†å«ä¹‰éœ€è¦ç”±ç”¨æˆ·è‡ªè¡Œå®šä¹‰ã€‚

##### æ³¨:åœ¨ TensorFlow ä¸­é—´ï¼Œä¸ºäº†è¡¨è¾¾æ–¹ä¾¿ï¼Œä¸€èˆ¬æŠŠæ ‡é‡ã€å‘é‡ã€çŸ©é˜µä¹Ÿç»Ÿç§°ä¸ºå¼ é‡ï¼Œä¸ä½œåŒºåˆ†

```python
data = tf.constant([1,2])
print(data) #tf.Tensor([1 2], shape=(2,), dtype=int32)
```

### 2.å­—ç¬¦ä¸²ç±»å‹

```python
data = tf.constant('hello')
print(data) #tf.Tensor(b'hello', shape=(), dtype=string)
```

### 3.å¸ƒå°”ç±»å‹

```python
data1 = tf.constant(True)
data2 = True
print(data1 == data2) #False
```

##### æ³¨:tensorFlow çš„å¸ƒå°”ç±»å‹å’Œ Python è¯­è¨€çš„å¸ƒå°”ç±»å‹å¹¶ä¸ç­‰ä»·ï¼Œä¸èƒ½é€šç”¨

### 4.å˜é‡å£°æ˜(å¾…ä¼˜åŒ–å¼ é‡)

```python
a1 = 7
a2 = tf.Variable(a1)
a3 = tf.Variable([[0,1,2],[2,2,2]])

print(a1) #7
print(a2) #<tf.Variable 'Variable:0' shape=() dtype=int32, numpy=7>
print(a3) #<tf.Variable 'Variable:0' shape=(2, 3) dtype=int32, numpy=
		  #array([[0, 1, 2],
       		    #[2, 2, 2]])>
```

### 5.æ•°æ®ç±»å‹ä¸ç²¾åº¦

```python
a = tf.constant(32.0)
b = tf.bitcast(a,type=tf.int32)
c = tf.cast(b,tf.float64)
print(a) #tf.Tensor(32.0, shape=(), dtype=float32)
print(b) #tf.Tensor(1107296256, shape=(), dtype=int32)
print(c) #tf.Tensor(1107296256.0, shape=(), dtype=float64)
```

### 6.åˆ›å»ºå¼ é‡

```python
# 1.ä»åˆ—è¡¨åˆ›å»ºå¼ é‡
print(tf.convert_to_tensor([1,2.,3]))
print()
'''
tf.Tensor([1. 2. 3.], shape=(3,), dtype=float32)
'''

# 2.ä»æ•°ç»„ä¸­åˆ›å»ºå¼ é‡
print(tf.convert_to_tensor(np.array([[1,2.],[3,4]])))
print()
'''
tf.Tensor(
[[1. 2.]
 [3. 4.]], shape=(2, 2), dtype=float64)
'''

# 3.åˆ›å»ºå…¨0å’Œå…¨1çš„å‘é‡
print(tf.zeros([2]))
print(tf.ones([4]))
print()
'''
tf.Tensor([0. 0.], shape=(2,), dtype=float32)
tf.Tensor([1. 1. 1. 1.], shape=(4,), dtype=float32)
'''

# 4.åˆ›å»ºå…¨0å’Œå…¨1çš„çŸ©é˜µ
print(tf.zeros([2,4]))
print(tf.ones([3,2]))
print()
'''
tf.Tensor(
[[0. 0. 0. 0.]
 [0. 0. 0. 0.]], shape=(2, 4), dtype=float32)
tf.Tensor(
[[1. 1.]
 [1. 1.]
 [1. 1.]], shape=(3, 2), dtype=float32)
'''

# 5.åˆ›å»ºä¸å¼ é‡aå½¢çŠ¶ä¸€æ ·çš„å…¨0å¼ é‡ï¼š
a = tf.ones([2,3]) # åˆ›å»ºä¸€ä¸ªçŸ©é˜µ
print(tf.zeros_like(a)) # åˆ›å»ºä¸€ä¸ªä¸aå½¢çŠ¶ç›¸åŒï¼Œä½†æ˜¯å…¨0çš„æ–°çŸ©é˜µ
print()
'''
tf.Tensor(
[[0. 0. 0.]
 [0. 0. 0.]], shape=(2, 3), dtype=float32)
'''

# 6.åˆ›å»ºä¸å¼ é‡aå½¢çŠ¶ä¸€æ ·çš„å…¨1å¼ é‡ï¼š
a = tf.zeros([2,3]) # åˆ›å»ºä¸€ä¸ªçŸ©é˜µ
print(tf.ones_like(a)) # åˆ›å»ºä¸€ä¸ªä¸aå½¢çŠ¶ç›¸åŒï¼Œä½†æ˜¯å…¨1çš„æ–°çŸ©é˜µ
print()
'''
tf.Tensor(
[[1. 1. 1.]
 [1. 1. 1.]], shape=(2, 3), dtype=float32)
'''

# 7.åˆ›å»ºè‡ªå®šä¹‰æ•°å€¼å¼ é‡
print(tf.fill([2,2], 99)) #åˆ›å»ºæ‰€æœ‰å…ƒç´ ä¸º99çš„çŸ©é˜µ
print()
'''
tf.Tensor(
[[99 99]
 [99 99]], shape=(2, 2), dtype=int32)

'''

# 8.åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡

#8.1tf.random.normalï¼ˆéšæœºç”Ÿæˆç¬¦åˆæ­£æ€åˆ†å¸ƒçš„Tensorï¼‰
a = tf.random.normal(shape=[2,3],mean=2)
print(a)
print(a.numpy())
print()
'''
tf.Tensor(
[[1.683939  3.6687405 1.3689977]
 [2.0329006 2.3370912 1.9933041]], shape=(2, 3), dtype=float32)
 
[[1.683939  3.6687405 1.3689977]
 [2.0329006 2.3370912 1.9933041]]
'''

#shape: è¾“å‡ºå¼ é‡çš„å½¢çŠ¶ï¼Œå¿…é€‰
#mean: æ­£æ€åˆ†å¸ƒçš„ä¸­å¿ƒå€¼å³å‡å€¼ï¼Œé»˜è®¤ä¸º0
#stddev: æ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼Œé»˜è®¤ä¸º1.0
#dtype: è¾“å‡ºçš„ç±»å‹ï¼Œé»˜è®¤ä¸ºtf.float32
#seed: éšæœºæ•°ç§å­ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå½“è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°éƒ½ä¸€æ ·
#name: æ“ä½œçš„åç§°

#8.2tf.random.uniformï¼ˆéšæœºç”Ÿæˆç¬¦åˆå‡åŒ€åˆ†å¸ƒçš„Tensorï¼‰
a = tf.random.uniform(shape=[2,3],minval=1,maxval=10,seed=8,dtype=tf.int32)
print(a)
print(a.numpy())
print()
'''
tf.Tensor(
[[4 4 7]
 [2 2 8]], shape=(2, 3), dtype=int32)
 
[[4 4 7]
 [2 2 8]]
'''

# 9.åˆ›å»ºåºåˆ—
print( tf.range(1,10,2))
'''
tf.Tensor([1 3 5 7 9], shape=(5,), dtype=int32)
'''
```

## äºŒã€ç´¢å¼•ä¸åˆ‡ç‰‡

### 1.ç´¢å¼•

```python
# äº”ã€ç´¢å¼•ä¸åˆ‡ç‰‡

# 1.ç´¢å¼•
x = tf.random.normal([4,6,3,3]) # åˆ›å»º4Då¼ é‡

#å–ç¬¬1å¼ å›¾ç‰‡çš„æ•°æ®
print(x[0])
print()

#å–ç¬¬1å¼ å›¾ç‰‡çš„ç¬¬2è¡Œ
print(x[0][1])
print()

#å–ç¬¬1å¼ å›¾ç‰‡çš„ç¬¬2è¡Œç¬¬3åˆ—çš„æ•°æ®
print(x[0][1][2])
print()

#å–ç¬¬3å¼ å›¾ç‰‡çš„ç¬¬2è¡Œç¬¬1åˆ—çš„åƒç´ ï¼ŒBé€šé“(ç¬¬ 2 ä¸ªé€šé“)é¢œè‰²å¼ºåº¦å€¼
print(x[2][1][0][1])
print()

#å½“å¼ é‡çš„ç»´åº¦æ•°è¾ƒé«˜æ—¶ï¼Œä½¿ç”¨[ğ‘–][ğ‘—]. . .[ğ‘˜]çš„æ–¹å¼ä¹¦å†™ä¸æ–¹ä¾¿ï¼Œå¯ä»¥é‡‡ç”¨[ğ‘–,ğ‘—, â€¦ , ğ‘˜]çš„æ–¹å¼ç´¢å¼•ï¼Œå®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚
#å–ç¬¬2å¼ å›¾ç‰‡ï¼Œç¬¬2è¡Œï¼Œç¬¬3åˆ—çš„æ•°æ®
print(x[1,1,2])
```

### 2.åˆ‡ç‰‡

```python
# 2.åˆ‡ç‰‡(start: end: step)

#è¯»å–æ‰€æœ‰å›¾ç‰‡ã€éš”è¡Œé‡‡æ ·ã€éš”åˆ—é‡‡æ ·ã€è¯»å–æ‰€æœ‰é€šé“æ•°æ®
print( x[:,0:28:2,0:28:2,:])
print()

#è¡Œã€åˆ—é€†åºé—´éš”é‡‡æ ·
print(x[0,::-2,::-2])
print()

'''
ä¸ºäº†é¿å…å‡ºç°åƒ [: , : , : ,1]è¿™æ ·è¿‡å¤šå†’å·çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨â‹¯ç¬¦å·è¡¨ç¤ºå–å¤šä¸ªç»´åº¦ä¸Šæ‰€
æœ‰çš„æ•°æ®
'''
#è¯»å–æœ€å2å¼ å›¾ç‰‡
print(x[2:,...]) #é«˜ã€å®½ã€é€šé“ç»´åº¦å…¨éƒ¨é‡‡é›†ï¼Œç­‰ä»·äº x[2:]
```

## ä¸‰ã€ç»´åº¦å˜æ¢

```python
#1.tf.reshape ï¼ˆå¤šé˜¶Tensorå½¢æ€å˜åŒ–ï¼‰
b1 = tf.Variable([[0,1,2],[4,5,6]])
print(b1)

b2 = tf.reshape(b1,[3,2])
print(b2)
print()

#2.tf.expand_dimsï¼ˆå¢åŠ ç»´åº¦ï¼‰
a = tf.constant([[1],[2],[3]])
print(a)

b = tf.expand_dims(a,0) #0æ˜¯æ·»åŠ ç»´åº¦çš„ä¸‹æ ‡ï¼Œå³æœ€å¤–å±‚æ·»åŠ ä¸€ä¸ªç»´åº¦
print(b)
print()

#3.tf.squeezeï¼ˆåˆ é™¤ç»´åº¦ï¼‰
c = tf.squeeze(b,0)
print(c)
print()

#4.tf.transposeï¼ˆäº¤æ¢ç»´åº¦ï¼‰
x = tf.constant([[[1, 2, 3],
                  [4, 5, 6]],
                 [[7, 8, 9],
                 [10, 11, 12]]])
print(x)
a = tf.transpose(x,perm=[0,2,1]) #0â€“ä»£è¡¨çš„æ˜¯æœ€å¤–å±‚çš„ä¸€ç»´, 1â€“ä»£è¡¨å¤–å‘å†…æ•°ç¬¬äºŒç»´, 2â€“ä»£è¡¨æœ€å†…å±‚çš„ä¸€ç»´
print(a) #2*2*3å˜ä¸º2*3*2
print()
print(a.numpy())
```

## å››ã€å¤åˆ¶æ•°æ®

```python
# ä¸ƒã€å¤åˆ¶æ•°æ®

# 1.tf.tile(x, multiples)
#ï¼Œmultiples åˆ†åˆ«æŒ‡å®šäº†æ¯ä¸ªç»´åº¦ä¸Šé¢çš„å¤åˆ¶å€æ•°ï¼Œå¯¹åº”ä½ç½®ä¸º 1 è¡¨æ˜ä¸å¤åˆ¶ï¼Œä¸º 2 è¡¨æ˜æ–°é•¿åº¦ä¸ºåŸæ¥é•¿åº¦çš„2 å€
b = tf.constant([1,2]) #åˆ›å»ºå‘é‡b
b = tf.expand_dims(b, axis=0) # æ’å…¥æ–°ç»´åº¦ï¼Œå˜æˆçŸ©é˜µ
print(b)
b = tf.tile(b, multiples=[2,1])
print(b)
print()
'''
tf.Tensor([[1 2]], shape=(1, 2), dtype=int32)
tf.Tensor(
[[1 2]
 [1 2]], shape=(2, 2), dtype=int32)
'''

# 2.Broadcasting(å¹¿æ’­æœºåˆ¶)
a = tf.random.normal([2,4,3])
b = tf.random.normal([4,3])
print('a')
print(a)
print('b')
print(b)
print('a+b') #æ“ä½œç¬¦+åœ¨é‡åˆ°shapeä¸ä¸€è‡´çš„ 2 ä¸ªå¼ é‡æ—¶ï¼Œä¼šè‡ªåŠ¨è€ƒè™‘å°†2ä¸ªå¼ é‡è‡ªåŠ¨æ‰©å±•åˆ°ä¸€è‡´çš„shapeï¼Œç„¶åå†è°ƒç”¨tf.addå®Œæˆå¼ é‡ç›¸åŠ è¿ç®—
print(a+b)
'''
a
tf.Tensor(
[[[-0.97006094  1.1915427   1.648624  ]
  [-1.6343883  -0.7742328  -0.8212112 ]
  [-0.71968156 -0.21122058 -1.2099427 ]
  [-0.253017    1.4793684  -0.9555059 ]]

 [[-0.9505889   0.1466023   0.47719327]
  [ 0.5600651   1.5957079  -0.15114488]
  [ 0.18986315 -1.1133232   0.34045413]
  [ 0.16178802 -1.6989673   0.9426968 ]]], shape=(2, 4, 3), dtype=float32)
b
tf.Tensor(
[[ 0.6399869  -0.97674257 -0.358059  ]
 [ 0.19186574 -1.0207571   0.1534496 ]
 [-0.60895395  0.77868384  1.130439  ]
 [-1.9602782   1.4174117   0.03814198]], shape=(4, 3), dtype=float32)
a+b
tf.Tensor(
[[[-3.3007407e-01  2.1480018e-01  1.2905650e+00]
  [-1.4425225e+00 -1.7949898e+00 -6.6776162e-01]
  [-1.3286355e+00  5.6746328e-01 -7.9503655e-02]
  [-2.2132952e+00  2.8967800e+00 -9.1736394e-01]]

 [[-3.1060201e-01 -8.3014023e-01  1.1913428e-01]
  [ 7.5193083e-01  5.7495081e-01  2.3047179e-03]
  [-4.1909081e-01 -3.3463937e-01  1.4708931e+00]
  [-1.7984902e+00 -2.8155565e-01  9.8083878e-01]]], shape=(2, 4, 3), dtype=float32)
'''
```

## äº”ã€æ•°å­¦è¿ç®—

```python
# 1.åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—
a = tf.range(5)
b = tf.constant(2)
print(a)
print(b)
print(a+b)
print(a-b)
print(a*b)
print(a/b)
print(a//b) # æ•´é™¤è¿ç®—
print(a%b) # ä½™é™¤è¿ç®—
print()

# 2.ä¹˜æ–¹è¿ç®—
x = tf.range(4)
print(x)
print(tf.pow(x,3)) # ä¹˜æ–¹è¿ç®—
print(x**2) #ä¹˜æ–¹è¿ç®—ç¬¦
x = tf.cast(x, dtype=tf.float32)
x = tf.square(x)
print(x) #å¹³æ–¹
print(tf.sqrt(x)) #å¹³æ–¹æ ¹

'''
tf.Tensor([0 1 2 3 4], shape=(5,), dtype=int32)
tf.Tensor(2, shape=(), dtype=int32)
tf.Tensor([2 3 4 5 6], shape=(5,), dtype=int32)
tf.Tensor([-2 -1  0  1  2], shape=(5,), dtype=int32)
tf.Tensor([0 2 4 6 8], shape=(5,), dtype=int32)
tf.Tensor([0.  0.5 1.  1.5 2. ], shape=(5,), dtype=float64)
tf.Tensor([0 0 1 1 2], shape=(5,), dtype=int32)
tf.Tensor([0 1 0 1 0], shape=(5,), dtype=int32)

tf.Tensor([0 1 2 3], shape=(4,), dtype=int32)
tf.Tensor([ 0  1  8 27], shape=(4,), dtype=int32)
tf.Tensor([0 1 4 9], shape=(4,), dtype=int32)
tf.Tensor([0. 1. 4. 9.], shape=(4,), dtype=float32)
tf.Tensor([0. 1. 2. 3.], shape=(4,), dtype=float32)
'''
```

